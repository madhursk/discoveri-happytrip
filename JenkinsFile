pipeline{
    agent any
    stages{
        stage('Build'){
           tools{
           jdk 'jdk8'
           }
            steps{
                echo "checkout proj"
                powershell label: '', script: 'mvn clean package -f pom.xml sonar:sonar'
            }
            
        }
        withSonarQubeEnv('Sonar') {

 
            powershell label: '', script: 'mvn package -f happytrip-code\\pom.xml sonar:sonar'

 
}
         stage('Archive'){
            steps{
                echo "Archive Project"
                archiveArtifacts artifacts: 'target/prabhav-1.war', followSymlinks: false
            }
        }
        
    }
}
